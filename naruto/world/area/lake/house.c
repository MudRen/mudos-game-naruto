#include <ansi.h>
inherit ROOM;

void create()
{
    set("short", "總管室");
    set("long","門上掛了一個已經腐蝕到快要爛掉的木牌，上面寫著「總管室」
進入之後只見四周櫃子上放滿了書籍，房中的大桌子上放了一個生鏽
的鈴鐺還有一本厚重的破書，封面寫著『日誌』
");
    set("exits", ([
        "north" : ([ "filename": __DIR__"relice.c",
                      "x_axis": 12,
                      "y_axis": 13,
                 ]),
    ]));
    set("detail", ([
        "總管室": "一個腐蝕很嚴重的木牌。",
        "日誌": "上面寫了很多東西，但似乎只有後面的五張還勉強能夠閱讀(read)。",
    ]));
    set("objects", ([
    __DIR__"npc/zombie2.c" : 1,
    ]));
    setup();
}
void init()
{
    add_action("do_read", "read");
}
int do_read(string arg)
{
    string line;
    if( arg == "1" || arg == "第一張" || arg == "一張" ) {
        line  = "                     日誌第五千六百七十一篇\n";
        line += "──────────────────────────────────\n";
        line += "年歷三七一　天氣　晴\n";
        line += "　\n";
        line += "進入這個莊園城堡二十年，我始終不知道老主人除了是土霸王，還是\n";
        line += "個喜歡收集珍奇異物的古董收藏家。要不是我在主人喝醉酒時口誤大\n";
        line += "肆誇讚而我假裝不信，他也不會把密道的開法告給我！這密道中的寶\n";
        line += "物真是讓人大開眼界，隨便一樣拿出去也能賣個好幾萬吧！真的是很\n";
        line += "難讓人不心動，要是我能拿幾樣出去賣，豈不是賺翻了！這樣就可以\n";
        line += "擺脫每天低聲下氣的總管身活了！\n";
        line += "　\n";
        line += "──────────────────────────────────\n";
        write(line);
        return 1;
    }
    if( arg == "2" || arg == "第二張" || arg == "二張" ) {
        line  = "                     日誌第五千六百七十二篇\n";
        line += "──────────────────────────────────\n";
        line += "年歷三七一　天氣　陰\n";
        line += "　\n";
        line += "我真的受夠了！那個可惡的傢伙根本就沒有他父親的風格！對待下屬\n";
        line += "除了打罵就是打罵！我可是總管！總管耶！居然就在眾多僕人前面賞\n";
        line += "了我一個耳光，這樣我在其他僕人前面哪還有威嚴存在？最近常看那\n";
        line += "傢伙和一個女傭人很親近，該不會是想用她來取代我現在的位置吧！\n";
        line += "這可不行！我還沒拿到密道中的寶物，怎麼可以就這樣離開呢！我必\n";
        line += "須想點辦法讓我能得到那些寶物才行！\n";
        line += "　\n";
        line += "──────────────────────────────────\n";
        write(line);
        return 1;
    }
    if( arg == "3" || arg == "第三張" || arg == "三張" ) {
        line  = "                     日誌第五千六百七十三篇\n";
        line += "──────────────────────────────────\n";
        line += "年歷三七一　天氣　晴\n";
        line += "　\n";
        line += "這天我一早就請了個短假，偷偷溜到村中與那些傭兵武士們溝通，他\n";
        line += "們聽完之後便決定接受我的雇用，不過我當然不會相信他們這些傭兵\n";
        line += "，我走遍了四周幾個大村，幾乎將能雇的傭兵都雇用了，反正等我拿\n";
        line += "到了那些寶物！我就再也不用擔心錢的問題啦！完全籌備需要一天的\n";
        line += "時間，於是我決定先回莊園繼續做我最後一天的總管，一想到兩天之\n";
        line += "後我就將成為另一個土豪，就興奮的什麼都忘了！\n";
        line += "　\n";
        line += "──────────────────────────────────\n";
        write(line);
        return 1;
    }
    if( arg == "4" || arg == "第四張" || arg == "四張" ) {
        line  = "                     日誌第五千六百七十四篇\n";
        line += "──────────────────────────────────\n";
        line += "年歷三七一　天氣　晴\n";
        line += "　\n";
        line += "今天我小心翼翼的趁著那傢伙和女傭私會的時候闖入機關室中，畢竟\n";
        line += "只有開過一次的經驗還是讓我有點搞不清楚這複雜的機關。反覆的試\n";
        line += "了幾次之後，我發現這機關是不可能同時打開的，每當有一邊開啟後\n";
        line += "另一邊便會卡住，唯獨寶藏間的機關是內藏的另一組機關，在開啟後\n";
        line += "並不影響其他的機關運轉。在多次試驗後我總算對這機關有一點點的\n";
        line += "了解，但是我的記性又不是很好，所以當這篇日誌寫完之後，應該會\n";
        line += "連夜趕工出一張能夠開啟所有機關的信紙，以防到時候我又忘了這討\n";
        line += "厭的機關要怎麼開啟！\n";
        line += "　\n";
        line += "──────────────────────────────────\n";
        write(line);
        return 1;
    }
    if( arg == "5" || arg == "第五張" || arg == "五張" ) {
        line  = "                     日誌第五千六百七十五篇\n";
        line += "──────────────────────────────────\n";
        line += "年歷三七一　天氣　陰\n";
        line += "　\n";
        line += "傭兵們如期的來了，我裝做沒事般的躲在總管房內寫著最後一篇日誌\n";
        line += "，馬上這莊園就是我的東西了，一想到真是興奮........外面忽然傳\n";
        line += "來了僕人的敲門聲，他們大聲喧嘩著說莊園外的護城河水突然爆漲了\n";
        line += "起來，整個水已經淹進莊內了！一聽之下我馬上衝到門口，才發現原\n";
        line += "來我所找的傭兵，全都一個不剩的倒在地上，而四周居然是一群....\n";
        line += "我不會看錯的！肯定是一群忍者！沒想到我和傭兵們的談話被他們給\n";
        line += "聽見了！還將傭兵們殺光想要獨吞寶藏！可惜發現這一切的我已經太\n";
        line += "遲了，四周都被圍住，沒有辦法逃走。我只好回到水淹及膝的總管室\n";
        line += "繼續將這本來應該是愉快結尾的日誌做個痛苦的結束。\n";
        line += "人說將死之人腦袋總是特別靈光，我突然想到，這個莊園的排水設施\n";
        line += "本來就不是很好，現在這樣整個大河水都灌了進來，加上本來應該增\n";
        line += "加重度的地下被挖空做成寶藏間，在嚴重進水的情況下，我想整個莊\n";
        line += "園應該會完全塌陷吧！沒想到到了最後才知道當個總管也是很幸福的\n";
        line += "比這樣的結局真是好太多了。\n";
        line += "　\n";
        line += "                                          總管   林北 筆\n";
        line += "──────────────────────────────────\n";
        write(line);
        return 1;
    }
    return notify_fail("閱讀日誌請用read <編號>\n");
}
